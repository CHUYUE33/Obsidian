我们的目标是对于质量M施加一定的热量，然后让他对外做功。
对于热机，我们有以下的限制条件：
>1）做功不能以损失热机为代价，也就是说在完成做功时热机需要回到最初的状态。热量应该来源于某个维持温度$T_h$的热池而不是热机。
>2）经过一个循环之后，热机应该回到初始状态，这个过程需要是可重复性的
>3）给予热机的能量会改变一些外部的参数（如活塞的位置，装置的高度之类的）而不改变装置的熵。

## 理想热机
我们假设一个工质质量$M$的热机吸收热量$Q_h$并将其全部转化为做功$W$，热机在做功完成后回到最初的状态。
这是一个理想热机，但是却时不可能的，这违背了热力学第二定律：
$$\Delta S\ge0$$
热池中的熵会减小，因为一部分热量被转移了：$\Delta S_1=-\frac{Q_h}{T}$
而热机的熵保持不变，那么这两者总体的熵变为$\Delta S=-\frac{Q_h}{T}=\frac{W}{T}\ge0\Rightarrow Q_h=W\le0$
所以只有外部对热机做功或者不做功才能实现。

理想热机的不真实性也可以由此看出：在理想热机中，我们把来自各个自由度的能量集中给予了某一个自由度而不付出任何代价。

## 做功效率
现在我们来想象两个热池保持温度$T_h,T_c$，热机从$T_h$吸收热量并将能量转移到$T_c$。
热机在一个循环中回到最初的的状态，对于这个循环我们可以写出：
$$Q_h=W+Q_c$$
我们要求系统整体的熵是增大的：
$$\Delta S=\frac{-Q_h}{T_h}+\frac{Q_c}{T_c}\ge0$$
$$\frac{-Q_h}{T_h}+\frac{Q_h-W}{T_c}\ge0$$
$$\frac{W}{T_c}\le Q_h(\frac{1}{T_c}-\frac{1}{T_h})$$
$$\Rightarrow e\equiv\frac{W}{Q_c}\le1-\frac{T_c}{T_h}$$
这里我们将$e$称为热机效率，可以看出正常热机的效率都是小于1的。
这个效率也是一个系统在可逆情况下的最大效率，如果实际过程不可逆那么效率将小于这个值。
一些<font color=orange>不可逆的过程</font>会导致实际效率低于$e$例如：
>1.一部分输入的能量会直接传递给低温热源（这是不可逆的能量传输）
>2.一部分的温差$T_h-T_c$并不实际起到作用，因为在热能传递的过程中，介质存在热阻导致等效的温差没有那么大
>3.一部分热机对外做功会通过摩擦的方式重新变回热量
>4.工质气体可能在一些不可逆的膨胀过程中并不做功，如理想气体进入真空时的膨胀过程


## Refrigerator
为了使一个冰箱正常工作，我们会对其做功$W$,
$$Q_c=Q_h-W$$
从低温热源抽走的热量少于给予高温热源的热量，又因为总体系应该熵增，那么：
$$\Delta S=\frac{Q_h}{T_h}+\frac{-Q_c}{T_c}\ge0$$
我们可以定义表现系数COP:
$$COP=\frac{benefit}{cost}=\frac{Q_c}{W},Q_c=Q_h-W$$
$$\Rightarrow COP=\frac{1}{\frac{Q_h}{Q_c}-1}\le\frac{1}{\frac{T_h}{T_c}-1}=\frac{T_c}{T_h-T_c}$$

一个空调以卡诺循环的冰箱模式进行室外$T_h$和室内$T_c$之间的制冷，室内从室外获得温度的效率为$A(T_h-T_c)$，这部分热量被空调移除，电源效率为$P$。
$$\frac{dQ}{dt}=A(T_h-T_c)\Rightarrow p=\frac{dw}{dt}=\frac{1}{COP}\frac{dQ_c}{dt}=A\frac{(T_h-T_c)^2}{T_c}$$
由此可以解出$T_c$:
$$T_c=T_h+\frac{P}{2A}-\sqrt{(T+p/2A)^2-T_h^2}$$
## Heat Pumps
热泵就是一个逆向进行的冰箱，这次是在通过做功来加热高温热源使得热源保持温度$T_h$。
在可逆循环时$\Delta S_h=\Delta S_c$，所以效率表示为：
$$\frac{W}{Q_h}=\frac{Q_h-Q_c}{Q_h}=\frac{\Delta S_hT_h-\Delta S_cT_c}{\Delta S_hT_h}=\frac{T_h-T_c}{T_h}$$
可以看出某些情况下使用热泵加热效率是高于直接加热的。